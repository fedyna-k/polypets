<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/static/style/global.css">
  <link rel="stylesheet" href="/static/style/create-game.css">
  <link rel="stylesheet" href="/static/style/loading.css">
  <link rel="stylesheet" href="/static/style/three-canva.css">
  <link rel="stylesheet" href="/static/style/ar-three-canvas.css">
  <script src="/static/script/views/cookie.js"></script>
  <title>PolyPets</title>
</head>
<body>
<div id="loader">
  <div>Loading...</div>
  <img src="/static/resources/images/pig.png" alt="loading">
  <div id="loading-bar"></div>
</div>
<div id="scene-container" class="container">
  <div id="main-blur" class="blur">

    <img id="logo" src="../static/resources/images/logo.png">

    <div id="qr-code-div" class="qr-code">
      <div>Connectez votre smartphone</div>
      <div id="qrcode" style="width: 256px;height: 256px;"></div>
    </div>

    <div id="game-canvas" style="display: none;">
      <video id="remoteVideo" autoplay playsinline style="display: none;"></video>
      <div id="game-scene-container">
        <canvas id="frameCanvas"></canvas>
      </div>
    </div>

    <div class="waiting-for">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6 icon">
        <path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z" clip-rule="evenodd" />
      </svg>
      <div class="loader"></div>
      <div>En attente du second joueur</div>
    </div>

    <!--<button class="menu-button" onclick="render('homepage')">Retour au menu</button>-->
    <button class="menu-button" onclick="ToggleVideo()">Magical Animation</button>
  </div>
</div>
<%- include("./partials/three-import.ejs") %>

<!-- Import Scripts -->
<script src="/static/script/libs/qrcode.min.js"></script>>
<!-- Import openCV -->
<script src="../static/script/opencv/ImageProcessor.js"></script>
<!-- Load openCV -->
<script async src="../static/resources/opencv/opencv.js" onload="onCvReady()"></script>

<script src="/socket.io/socket.io.js"></script>

<!-- Connection to phone + image analysis script -->
<script src="../static/script/video/video.js"></script>

<!-- Import AR Three JS Overlay -->
<script type="module" src="../static/script/scenes/video-ar.js"></script>

<script src="../static/script/game/create-game.js"></script>
<script src="../static/script/game/battle.js"></script>

</body>
</html>